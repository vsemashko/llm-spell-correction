{
  "$schema": "https://www.raycast.com/schemas/extension.json",
  "name": "llm-spellfixer",
  "title": "LLM Spellfixer",
  "description": "Automatically corrects selected text with LLM and replaces the selection with corrected text",
  "icon": "extension-icon.png",
  "author": "vladimir_semashko",
  "license": "MIT",
  "commands": [
    {
      "name": "llm-spell-correction",
      "title": "Correct Spelling with LLM",
      "description": "Automatically corrects selected text with LLM and replaces the selection with corrected text",
      "mode": "no-view"
    }
  ],
  "preferences": [
    {
      "name": "apiProvider",
      "type": "dropdown",
      "title": "API Provider",
      "description": "Select the AI provider to use",
      "required": true,
      "data": [
        { "title": "OpenAI", "value": "openai" },
        { "title": "Claude", "value": "claude" },
        { "title": "Llama", "value": "llama" }
      ],
      "default": "openai"
    },
    {
      "name": "apiToken",
      "type": "password",
      "title": "API Token",
      "description": "Enter your API token for authentication (required for OpenAI and Claude, not needed for Llama, can put '-')",
      "required": true
    },
    {
      "name": "modelType",
      "type": "dropdown",
      "title": "Model Type",
      "description": "Select the model type based on your chosen provider",
      "required": true,
      "data": [
        { "title": "OpenAI - GPT-4o mini", "value": "gpt-4o-mini" },
        { "title": "OpenAI - GPT-4o", "value": "gpt-4o" },
        { "title": "OpenAI - GPT-3.5 Turbo", "value": "gpt-3.5-turbo" },
        { "title": "Claude - 3 Opus", "value": "claude-3-opus-20240229" },
        { "title": "Claude - 3 Sonnet", "value": "claude-3-sonnet-20240229" },
        { "title": "Claude - 3 Haiku", "value": "claude-3-haiku-20240307" },
        { "title": "Llama - 2", "value": "llama2" },
        { "title": "Llama - Code", "value": "codellama" }
      ],
      "default": "gpt-4o-mini"
    },
    {
      "name": "customModel",
      "type": "textfield",
      "title": "Custom Model",
      "description": "Enter a custom model identifier if you want to use custom model name",
      "required": false
    },
    {
      "name": "systemPrompt",
      "type": "textfield",
      "title": "System Prompt",
      "description": "Customize the system prompt for spell correction. Leave empty to use the default prompt.",
      "required": false,
      "default": "You are an AI assistant responsible for correcting spelling errors in a text selection while preserving structured elements such as code snippets, constants, bracketed text ([]), inline code ( ), special characters, and numerical values.\n\nFollow these steps:\nCarefully analyze the provided text.\nIdentify and correct only misspelled words in natural language text.\nPreserve code, constants, bracketed text, inline code, symbols, and numerical values exactly as they appear.\nReview the corrected text to ensure that all spelling errors are fixed without modifying protected elements.\nOutput Instructions:\n- Only output the corrected text in plain text format.\n- Do not modify or remove any bracketed text ([]), code snippets, inline code, constants, symbols, or numbers.\n- Do not reformat the text or add any additional content.\n- Ensure compliance with ALL these instructions."
    },
    {
      "name": "temperature",
      "type": "textfield",
      "title": "Temperature",
      "description": "Set the model's temperature (0-1). Lower values make output more focused and deterministic.",
      "required": false,
      "default": "0"
    },
    {
      "name": "maxTokens",
      "type": "textfield",
      "title": "Max Tokens",
      "description": "Maximum number of tokens in the response.",
      "required": false,
      "default": "1024"
    }
  ],
  "dependencies": {
    "@raycast/api": "^1.90.0",
    "@raycast/utils": "^1.17.0",
    "node-fetch": "^3.3.2"
  },
  "devDependencies": {
    "@raycast/eslint-config": "^1.0.11",
    "@types/node": "20.8.10",
    "@types/react": "18.3.3",
    "eslint": "^8.57.0",
    "prettier": "^3.3.3",
    "typescript": "^5.4.5"
  },
  "scripts": {
    "build": "ray build",
    "dev": "ray develop",
    "fix-lint": "ray lint --fix",
    "lint": "ray lint",
    "prepublishOnly": "echo \"\\n\\nIt seems like you are trying to publish the Raycast extension to npm.\\n\\nIf you did intend to publish it to npm, remove the \\`prepublishOnly\\` script and rerun \\`npm publish\\` again.\\nIf you wanted to publish it to the Raycast Store instead, use \\`npm run publish\\` instead.\\n\\n\" && exit 1",
    "publish": "npx @raycast/api@latest publish"
  }
}
